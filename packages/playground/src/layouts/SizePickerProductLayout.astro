---
import { SnipcartProduct, ProductMeta } from '@lloydjatkinson/astro-snipcart';
import { StorePageLayout, ProductPageWithSizePicker } from '@lloydjatkinson/astro-snipcart-design-system/astro';

export type Props = SnipcartProduct & ProductMeta;

const product = Astro.props.content as SnipcartProduct & ProductMeta;
// console.log(product.sizes);
---
<StorePageLayout
    title={ product.name }
    storeName="Astro Snipcart Integration"
    useDefaultLogo="hexagon"
    { ...(product.price <= product.originalPrice ? { banner: 'This product is on sale, get it now!' } : {}) }>
    <ProductPageWithSizePicker
        { ...product }>
        <slot />
    </ProductPageWithSizePicker>
</StorePageLayout>