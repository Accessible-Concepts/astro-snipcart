---
import PlaygroundLayout from '../layouts/PlaygroundLayout.astro';
import { SnipcartSetup } from '@lloydjatkinson/astro-snipcart/astro';
import { StorePageLayout } from '@lloydjatkinson/astro-snipcart-design-system/astro';

import {
	Stack,
	ProductGrid,
	PageLayout,
	Hero,
	ProductCard,
	Banner,
	Storefront,
	ProductWithColorPicker,
	Text,
	Link,
	Button,
} from '@lloydjatkinson/astro-snipcart-design-system/astro';
import { ProductMeta, SnipcartProduct } from '@lloydjatkinson/astro-snipcart';

// import {
// 	ProductCard
// } from '@lloydjatkinson/astro-snipcart-design-system'

const productCards = [];
for (let i = 0; i < 10; i++) {
  productCards.push({
    id: `${i}`,
    name: `Product ${i}`,
    description: `Product ${i} description`,
    price: Math.floor(Math.random() * 100),
    // image: `https://picsum.photos/400/600?image=${Math.floor(Math.random() * 100)}`,
	image: '../../products/images/t-shirt-green.jpg',
    currencySymbol: 'Â£',
  });
};

interface Style {
    readonly name: string;
    readonly hex: string;
};

const styles: Style[] = [
	{ name: 'Blue', hex: '#1C4CAA' },
	{ name: 'Cobalt Blue', hex: '#425879' },
	{ name: 'Purple', hex: '#5D426B' },
	{ name: 'Bright Purple', hex: '#775489' },
	{ name: 'Cyan', hex: '#4F988A' },
	{ name: 'Light Green', hex: '#638C6D' },
	{ name: 'Green', hex: '#257B2D' },
	{ name: 'Grey', hex: '#5F706D' },
	{ name: 'Red', hex: '#CA0025' },
];

const products =
	(await Astro.glob<SnipcartProduct & ProductMeta>('../pages/products/*.md'))
	.map((markdownProduct) => ({ ...markdownProduct.frontmatter }));

// sort products by cheapest first
const sortedProducts = [...products].sort((a, b) => a.price - b.price);

const welcome = "A real world demo of the Astro Snipcart Design System for the Astro Snipcart E-commerce integration!";
---
<StorePageLayout
	title="Astro Snipcart by @lloydjatkinson"
	description={ welcome }
	storeName="Astro Snipcart Integration"
    useDefaultLogo="hexagon"
	image="/assets/images/t-shirts-on-hangers.jpg"
	banner={ welcome }>
	<Storefront
		title="Astro Snipcart Integration"
		description="Demo store for Astro and Snipcart"
		heroHeading="The here and now"
		heroSubHeading={ welcome }
		heroImage="/assets/images/t-shirts-on-hangers.jpg"
		products={ sortedProducts }>
		<Stack
			direction="vertical"
			gap={{
				mobile: 'large'
			}}>
			<Text tone="informational">
				This is an optional design system for the Astro Snipcart E-commerce integration.
				The design system is an E-commerce orientated enabling developers to build their own E-commerce store.
				The integration can be used with or without this design system.
			</Text>
			<Text weight="medium">
				Start selling products with some HTML and Astro components in minutes! This site was made using this design system.
			</Text>
			<Stack
				direction="vertical"
				gap={{
					mobile: 'small'
				}}>
				<Link to="https://astro-snipcart.vercel.app/en/introduction">
					<Text decoration="underline" tone="positive">
						Documentation
					</Text>
				</Link>
				<Link to="/design">
					<Text decoration="underline" tone="positive" weight="medium">
						Documentation - Component Explorer ðŸš€
					</Text>
				</Link>
				<Link to="https://snipcart.com/">
					<Text decoration="underline" tone="positive">
						Snipcart Documentation
					</Text>
				</Link>
			</Stack>
			<Link to="https://twitter.com/lloydjatkinson">
				<Text
					decoration="underline">
					Made with â™¥ by @lloydjatkinson
				</Text>
			</Link>
		</Stack>
	</Storefront>
</StorePageLayout>