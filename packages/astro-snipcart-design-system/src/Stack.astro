---
import clsx from 'clsx';

import { Element, Breakpoint, Direction } from './types';

export type Props = Element & {
    readonly gap?: Breakpoint;
    readonly direction?: Direction;
};

const {
    as: Element = 'div',
    gap = {
        mobile: 'small',
        tablet: 'medium',
        desktop: 'xlarge',
    },
    direction = 'vertical',
} = Astro.props as Props;

const layoutClasses = clsx(
    'flex',
    {
        'flex-row': direction === 'horizontal',
        'flex-col': direction === 'vertical',

        'gap-3': gap.mobile === 'small',
        'gap-8': gap.mobile === 'medium',
        'gap-10': gap.mobile === 'large',
        'gap-16': gap.mobile === 'xlarge',

        'md:gap-3': gap.tablet === 'small',
        'md:gap-8': gap.tablet === 'medium',
        'md:gap-10': gap.tablet === 'large',
        'md:gap-16': gap.tablet === 'xlarge',

        'lg:gap-3': gap.desktop === 'small',
        'lg:gap-8': gap.desktop === 'medium',
        'lg:gap-10': gap.desktop === 'large',
        'lg:gap-16': gap.desktop === 'xlarge',        
    }
);
---

<Element class={ layoutClasses }>
    <slot />
</Element>