---
import Stack from './Stack.astro';
import ProductGrid from './ProductGrid.astro';
import PageLayout from './PageLayout.astro';
import Hero from './Hero.astro';
import ProductCard from './ProductCard.astro';
import { SnipcartProduct } from '@lloydjatkinson/astro-snipcart';

export interface Props {
    readonly title: string;
    readonly description: string;
    readonly banner?: string;
    readonly heroHeading: string;
    readonly heroSubHeading: string;
    readonly heroImage?: string;
    readonly products: readonly SnipcartProduct[];
}
const {
    title,
    description,
    banner,
    heroHeading,
    heroSubHeading,
    heroImage,
    products,
} = Astro.props as Props;
---
<PageLayout
    title={ title }
    description={ description }
    banner={ banner }>
    <Stack>
        <Hero
            heading={ heroHeading }
            subHeading={ heroSubHeading }
            image={ heroImage } />
        <ProductGrid>
            {
                products.map((product) => (
                    <ProductCard
                        title={ product.name }
                        image={ product.image }
                        variants={['Black']}
                        formattedPrice={ `${product.price}` } />
                ))
            }
        </ProductGrid>
    </Stack>
</PageLayout>